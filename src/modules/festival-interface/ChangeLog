2003-10-23  Milan Zamazal  <pdm@brailcom.org>

	* events.scm (event-synth-words): Don't append to token if there
	is none.

2003-10-17  Milan Zamazal  <pdm@brailcom.org>

	* util.scm (unwind-protect*): New macro.

	* events.scm (event-debug): New variable.
	(event-synth): Print debugging information.
	(event-synth-plain): Don't synth unknown logical events starting
	with underscore.
	(event-synth): Support for special logical events added.
	(event-synth-text): Don't fail on an empty text.
	(event-with-mode): New macro.
	(event-synth-plain): Set capital character signalization for key
	and character events.
	(event-synth-key, event-synth-character): New functions.
	(event-synth-plain): Use them.

2003-10-15  Milan Zamazal  <pdm@brailcom.org>

	* events.scm (event-synth-sound): New function.
	(synth-event-plain): Use it.  Say logical event name if its
	translation is not defined.
	(synth-event-result-format): Renamed to event-synth-result-format.
	(synth-event-plain): Renamed to event-synth-plain.
	(synth-event): Renamed to event-synth.
	(play-event): Renamed to event-play.
	* speech-dispatcher.scm: Consider the previous changes.

2003-10-11  Milan Zamazal  <pdm@brailcom.org>

	* events.scm (sound-icons-directory): New variable.
	(logical-event-mapping): Allow relative pathnames of sound icons.
	New value.
	(synth-event-plain): Support relative sound file names.
	(word-mapping): Value changed.

2003-10-10  Milan Zamazal  <pdm@brailcom.org>

	* events.scm (event-synth-words): Create a real token in the new
	utterance and link the word item to it.
	(event-rest-of-synth): Call after_synth_hooks.

	* punctuation.scm (punctuation-process-english-words): Renamed to
	punctuation-process-words.  Handle stealth punctuation words in
	all languages when punctuation mode is none.
	(punctuation-character): New function.
	(punctuation-split-token): Use it.

